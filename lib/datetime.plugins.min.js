!function(i){"use strict";var d="YYYY-MM-DDTHH:mm:ss.sss",e="Invalid date",f=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|m{1,2}|s{1,3}/g;function l(t,e,i){return t=""+t,i&&i<=t.length?t:Array(i+1-t.length).join(e)+t}function n(t){return null==t}i.DATETIME_LOCALES={en:{months:"January February March April May June July August September October November December".split(" "),monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),weekStart:0}};var a={ms:"Milliseconds",s:"Seconds",m:"Minutes",h:"Hours",D:"Date",d:"Day",M:"Month",Y:"FullYear",y:"Year",t:"Time"},r="ms",s="second",u="minute",o="hour",c="day",h="week",m="month",y="year",datetime=function(){var t;return arguments[0]instanceof Datetime?datetime(arguments[0].value):(t=[].slice.call(Array.isArray(arguments[0])?arguments[0]:arguments),new(Function.prototype.bind.apply(Datetime,[this].concat(t))))},Datetime=function(){var t=[].slice.call(arguments);if(this.value=new(Function.prototype.bind.apply(Date,[this].concat(t))),this.locale="en",this.weekStart=i.DATETIME_LOCALES.en.weekStart,this.utcMode=!1,this.mutable=!0,isNaN(this.value.getTime()))throw new Error(e)};Datetime.DEFAULT_FORMAT=d,Datetime.REGEX_FORMAT=f,Datetime.INVALID_DATE=e,Datetime.lpad=l,Datetime.not=n,Datetime.isDatetime=function(t){return t instanceof Datetime},Datetime.now=function(t){return datetime()[t?"val":"time"]()},Datetime.locale=function(t,e){i.DATETIME_LOCALES[t]=e},Datetime.getLocale=function(t){return i.DATETIME_LOCALES[t||"en"]||i.DATETIME_LOCALES.en},Datetime.parse=function(t){return datetime(Date.parse(t))},Datetime.align=function(t,e){var i,n,a=t instanceof Datetime?t:datetime(t);switch(e){case s:i=a.ms(0);break;case u:i=Datetime.align(a,s)[s](0);break;case o:i=Datetime.align(a,u)[u](0);break;case c:i=Datetime.align(a,o)[o](0);break;case m:i=Datetime.align(a,c)[c](1);break;case y:i=Datetime.align(a,m)[m](0);break;case h:n=a.weekDay(),i=Datetime.align(a,c).addDay(-n);break;default:i=a}return i},Datetime.alignEnd=function(t,e){var i,n,a=t instanceof Datetime?t:datetime(t);switch(e){case r:i=a.ms(999);break;case s:i=Datetime.alignEnd(a,r);break;case u:i=Datetime.alignEnd(a,s)[s](59);break;case o:i=Datetime.alignEnd(a,u)[u](59);break;case c:i=Datetime.alignEnd(a,o)[o](23);break;case m:i=Datetime.alignEnd(a,c)[c](1).add(1,m).add(-1,c);break;case y:i=Datetime.alignEnd(a,c)[m](11)[c](31);break;case h:n=a.weekDay(),i=Datetime.alignEnd(a,"day").addDay(6-n);break;default:i=a}return i},Datetime.extend=function(t){for(var e,i,n=arguments.length,a=1;a<n;a++)if(null!=(e=arguments[a]))for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Datetime.use=function(t){Datetime.extend(Datetime.prototype,t)},Datetime.useStatic=function(t){Datetime.extend(Datetime,t)},Datetime.prototype={immutable:function(t){return this.mutable=!(n(t)||t),this},utc:function(){return this.utcMode=!0,this},local:function(){return this.utcMode=!1,this},useLocale:function(t){return Datetime.getLocale(t)?(this.locale=t,this.weekStart=Datetime.getLocale(t).weekStart):console.warn("Locale "+t+" is not defined!"),this},clone:function(){var t=datetime(this.value);return t.locale=this.locale,t.weekStart=this.weekStart,t.mutable=this.mutable,t},align:function(t){return this.mutable?(this.value=Datetime.align(this,t).val(),this):this.clone().immutable(!1).align(t).immutable(!this.mutable)},alignEnd:function(t){return this.mutable?(this.value=Datetime.alignEnd(this,t).val(),this):this.clone().immutable(!1).alignEnd(t).immutable(!this.mutable)},val:function(t){return t instanceof Date?this.mutable?(this.value=t,this):datetime(t):this.value},year2:function(){return+(""+this.year()).substr(-2)},_set:function(t,e){var i="set"+(this.utcMode&&"t"!==t?"UTC":"")+a[t];if(this.mutable)return this.value[i](e),this;t=this.clone();return t.value[i](e),t},_get:function(t){t="get"+(this.utcMode&&"t"!==t?"UTC":"")+a[t];return this.value[t]()},_work:function(t,e){return arguments.length&&null!=e?this._set(t,e):this._get(t)},ms:function(t){return this._work("ms",t)},second:function(t){return this._work("s",t)},minute:function(t){return this._work("m",t)},hour:function(t){return this._work("h",t)},day:function(t){return this._work("D",t)},month:function(t){return this._work("M",t)},year:function(t){return this._work("Y",t)},time:function(t){return this._work("t",t)},weekDay:function(t){if(!arguments.length||n(t))return this.utcMode?this.value.getUTCDay():this.value.getDay();t-=this.weekDay();return this.day(this.day()+t),this},get:function(t){return"function"!=typeof this[t]?this:this[t]()},set:function(t,e){return"function"!=typeof this[t]?this:this[t](e)},add:function(t,e){switch(e){case o:return this.time(this.time()+60*t*60*1e3);case u:return this.time(this.time()+60*t*1e3);case s:return this.time(this.time()+1e3*t);case r:return this.time(this.time()+t);case c:return this.day(this.day()+t);case h:return this.day(this.day()+7*t);case m:return this.month(this.month()+t);case y:return this.year(this.year()+t)}},addHour:function(t){return this.add(t,o)},addMinute:function(t){return this.add(t,u)},addSecond:function(t){return this.add(t,s)},addMs:function(t){return this.add(t,r)},addDay:function(t){return this.add(t,c)},addWeek:function(t){return this.add(t,h)},addMonth:function(t){return this.add(t,m)},addYear:function(t){return this.add(t,y)},format:function(t,e){var i=t||d,n=Datetime.getLocale(e||this.locale),a=this.year(),r=this.year2(),s=this.month(),u=this.day(),o=this.weekDay(),c=this.hour(),h=this.minute(),t=this.second(),e=this.ms(),m={YY:r,YYYY:a,M:s+1,MM:l(s+1,"0",2),MMM:n.monthsShort[s],MMMM:n.months[s],D:u,DD:l(u,"0",2),d:o,dd:n.weekdaysMin[o],ddd:n.weekdaysShort[o],dddd:n.weekdays[o],H:c,HH:l(c,"0",2),m:h,mm:l(h,"0",2),s:t,ss:l(t,"0",2),sss:l(e,"0",3)};return i.replace(f,function(t,e){return e||m[t]})},valueOf:function(){return this.value.valueOf()},toString:function(){return this.value.toString()}},i.Datetime=Datetime,i.datetime=datetime}("undefined"==typeof self?"undefined"==typeof global?window:global:self),function(){"use strict";var n=Datetime.prototype.format;Datetime.use({buddhist:function(){return this.year()+543},format:function(t,e){t=t||Datetime.DEFAULT_FORMAT;var i={BB:(this.buddhist()+"").slice(-2),BBBB:this.buddhist()},t=t.replace(/(\[[^\]]+])|B{4}|B{2}/g,function(t,e){return e||i[t]});return n.bind(this)(t,e)}})}(),function(){"use strict";Datetime.use({calendar:function(t){return Datetime.calendar(this,t)}}),Datetime.useStatic({calendar:function(t,e){var i,n=t instanceof Datetime?t.clone().align("month"):datetime(t),a=0===e||e?e:n.weekStart,r=a?n.isoWeekDay():n.weekDay(),s=Datetime.getLocale(n.locale),t=datetime(),u={month:s.months[n.month()],days:[],weekstart:e?1:0,weekdays:function(t,e){if(0===e)return t;e=t[0];return t.slice(1).concat([e])}(s.weekdaysMin,a),today:t.format("YYYY-MM-DD"),weekends:[],week:[]};for(n.addDay(a?1-r:-r),i=0;i<42;i++)u.days.push(n.format("YYYY-MM-DD")),n.add(1,"day");for(u.weekends=u.days.filter(function(t,e){return 0===a?-1<[0,6,7,13,14,20,21,27,28,34,35,41].indexOf(e):-1<[5,6,12,13,19,20,26,27,33,34,40,41].indexOf(e)}),n=t.clone(),r=a?n.isoWeekDay():n.weekDay(),n.addDay(a?1-r:-r),i=0;i<7;i++)u.week.push(n.format("YYYY-MM-DD")),n.add(1,"day");return u}})}(),function(){"use strict";var n=Datetime.prototype.format;Datetime.use({century:function(){return parseInt(this.year()/100)},format:function(t,e){t=t||Datetime.DEFAULT_FORMAT;var i={C:this.century()},t=t.replace(/(\[[^\]]+])|C/g,function(t,e){return e||i[t]});return n.bind(this)(t,e)}})}(),function(){"use strict";Datetime.use({same:function(t){return this.time()===datetime(t).time()},compare:function(t,e,i){var n,a,r=datetime(t),t=datetime(this.value);switch(-1===["<",">",">=","<=","=","!="].indexOf(i=i||"=")&&(i="="),e=(e||"ms").toLowerCase(),n=t.align(e).time(),a=r.align(e).time(),i){case"<":return n<a;case">":return a<n;case"<=":return n<=a;case">=":return a<=n;case"=":return n===a;case"!=":return n!==a}},between:function(t,e){return this.younger(t)&&this.older(e)},older:function(t,e){return this.compare(t,e,"<")},olderOrEqual:function(t,e){return this.compare(t,e,"<=")},younger:function(t,e){return this.compare(t,e,">")},youngerOrEqual:function(t,e){return this.compare(t,e,">=")},equal:function(t,e){return this.compare(t,e,"=")},notEqual:function(t,e){return this.compare(t,e,"!=")},diff:function(t){var e=datetime(t),t=Math.abs(this.time()-e.time()),e=Math.abs(this.month()-e.month()+12*(this.year()-e.year()));return{ms:t,second:Math.ceil(t/1e3),minute:Math.ceil(t/6e4),hour:Math.ceil(t/36e5),day:Math.ceil(t/864e5),month:e,year:Math.floor(e/12)}},distance:function(t,e){return this.diff(t)[e]}})}(),function(){"use strict";Datetime.use({dayOfYear:function(){var t=this.month(),e=this.day();return[0,31,59,90,120,151,181,212,243,273,304,334][t]+e+(1<t&&this.isLeapYear()?1:0)}})}(),function(){"use strict";Datetime.use({daysInMonth:function(){return datetime(this.value).add(1,"month").day(1).add(-1,"day").day()},daysInYear:function(){return this.isLeapYear()?366:365},daysInYearMap:function(){var t=[],e=datetime(this.value);e.month(0).day(1);for(var i=0;i<12;i++)e.add(1,"month").add(-1,"day"),t.push(e.day()),e.day(1).add(1,"month");return t},daysInYearObj:function(t,i){var e=this.daysInYearMap(),n={},a=Datetime.getLocale(t||this.locale);return e.forEach(function(t,e){n[a[i?"monthsShort":"months"][e]]=t}),n}})}(),function(){"use strict";Datetime.use({decade:function(){return 10*Math.floor(this.year()/10)},decadeStart:function(){var t=this.decade();return(this.mutable?this:this.clone()).year(t).month(0).day(1)},decadeEnd:function(){var t=this.decade()+9;return(this.mutable?this:this.clone()).year(t).month(11).day(31)},decadeOfMonth:function(){var t=this.clone().add(1,"month").day(1).add(-1,"day").day()/3,e=this.day();return e<=t?1:e<=2*t?2:3}})}(),function(){"use strict";Datetime.useStatic({from:function(t,e,i){function n(t,e){return t.map(function(t){return t.toLowerCase()}).indexOf(e.toLowerCase())}var r,a,s,u,o,c,h,m,d,f,l=function(t){for(var e,i={month:["M","mm","%m"],day:["D","dd","%d"],year:["YY","YYYY","yy","yyyy","%y"],hour:["h","hh","%h"],minute:["m","mi","i","ii","%i"],second:["s","ss","%s"],ms:["sss"]},n=-1,a=0;a<i[t].length;a++)if(e=i[t][a],-1!==(e=r.indexOf(e))){n=e;break}return n};if(Datetime.not(e)||""===(""+e).trim())return datetime();if(h=t.replace(/[\/,.:\s]/g,"-"),c=e.toLowerCase().replace(/[^a-zA-Z0-9%]/g,"-"),r=c.split("-"),a=h.split("-"),""===h.replace(/-/g,"").trim())throw new Error(Datetime.INVALID_DATE);return u=l("month"),o=l("day"),s=l("year"),t=l("hour"),e=l("minute"),c=l("second"),h=l("ms"),-1<u&&a[u]?isNaN(parseInt(a[u]))?(a[u]=(m=a[u],d=-1,f=Datetime.getLocale(i||"en"),Datetime.not(m)?-1:(-1===(d=n(f.months,m))&&void 0!==f.monthsParental&&(d=n(f.monthsParental,m)),-1===d&&(m=m.substr(0,3),d=n(f.monthsShort,m)),-1===d?-1:d+1)),-1===a[u]&&(u=-1)):((l=parseInt(a[u]))<1||12<l)&&(u=-1):u=-1,s=-1<s&&a[s]?a[s]:0,u=-1<u&&a[u]?a[u]:1,o=-1<o&&a[o]?a[o]:1,t=-1<t&&a[t]?a[t]:0,e=-1<e&&a[e]?a[e]:0,c=-1<c&&a[c]?a[c]:0,h=-1<h&&a[h]?a[h]:0,datetime(s,u-1,o,t,e,c,h)}})}(),function(){"use strict";var a=Datetime.prototype.format,r=Datetime.lpad;Datetime.use({ampm:function(t){var e=this.hour()<12?"AM":"PM";return t?e.toLowerCase():e},hour12:function(t,e){return 0===arguments.length?this.hour()%12:("pm"===(e=e||"am").toLowerCase()&&(t+=12),this.hour(t))},format:function(t,e){var i,n=this.hour12();return t=t||Datetime.DEFAULT_FORMAT,i={a:this.ampm(!0),A:this.ampm(!1),h:n,hh:r(n,"0",2)},t=t.replace(/(\[[^\]]+])|a|A|h{1,2}/g,function(t,e){return e||i[t]}),a.bind(this)(t,e)}})}(),function(){"use strict";Datetime.use({isLeapYear:function(){var t=this.year();return t%4==0&&t%100!=0||t%400==0}})}(),function(){"use strict";var n=Datetime.prototype.format,a=Datetime.align,r=Datetime.alignEnd;Datetime.useStatic({align:function(t,e){var i=t instanceof Datetime?t:datetime(t),e="isoWeek"===e?(t=i.isoWeekDay(),a(i,"day").addDay(1-t)):a.apply(this,[i,e]);return e},alignEnd:function(t,e){var i=t instanceof Datetime?t:datetime(t),e="isoWeek"===e?(t=i.isoWeekDay(),r(i,"day").addDay(7-t)):r.apply(this,[i,e]);return e}}),Datetime.use({isoWeekDay:function(t){var e=(this.weekDay()+6)%7+1;return!arguments.length||Datetime.not(t)?e:this.addDay(t-e)},format:function(t,e){t=t||Datetime.DEFAULT_FORMAT;var i={I:this.isoWeekDay()},t=t.replace(/(\[[^\]]+])|I{1,2}/g,function(t,e){return e||i[t]});return n.bind(this)(t,e)}})}(),function(){"use strict";Datetime.useStatic({max:function(){return[].slice.call(arguments).map(function(t){return datetime(t)}).sort(function(t,e){return e.time()-t.time()})[0]}}),Datetime.use({max:function(){return Datetime.max.apply(this,[this].concat([].slice.call(arguments)))}})}(),function(){"use strict";Datetime.useStatic({min:function(){return[].slice.call(arguments).map(function(t){return datetime(t)}).sort(function(t,e){return t.time()-e.time()})[0]}}),Datetime.use({min:function(){return Datetime.min.apply(this,[this].concat([].slice.call(arguments)))}})}(),function(){"use strict";var i=Datetime.align,n=Datetime.alignEnd,a=Datetime.prototype.add;Datetime.useStatic({align:function(t,e){t=t instanceof Datetime?t:datetime(t),e="quarter"===e?Datetime.align(t,"day").day(1).month(3*t.quarter()-3):i.apply(this,[t,e]);return e},alignEnd:function(t,e){t=t instanceof Datetime?t:datetime(t),e="quarter"===e?Datetime.align(t,"quarter").add(3,"month").add(-1,"ms"):n.apply(this,[t,e]);return e}}),Datetime.use({quarter:function(){var t=this.month();return t<=2?1:t<=5?2:t<=8?3:4},add:function(t,e){return"quarter"===e?this.month(this.month()+3*t):a.bind(this)(t,e)},addQuarter:function(t){return this.add(t,"quarter")}})}(),function(){"use strict";Datetime.useStatic({sort:function(t,e){var i,n,a={};switch("string"==typeof e||"object"!=typeof e||Datetime.not(e)?(a.format=Datetime.DEFAULT_FORMAT,a.dir=e&&"DESC"===e.toUpperCase()?"DESC":"ASC",a.returnAs="datetime"):(a.format=e.format||Datetime.DEFAULT_FORMAT,a.dir=(e.dir||"ASC").toUpperCase(),a.returnAs=e.format?"string":e.returnAs||"datetime"),n=t.map(function(t){return datetime(t)}).sort(function(t,e){return t.valueOf()-e.valueOf()}),"DESC"===a.dir&&n.reverse(),a.returnAs){case"string":i=n.map(function(t){return t.format(a.format)});break;case"date":i=n.map(function(t){return t.val()});break;default:i=n}return i}})}(),function(){"use strict";var v=/(%[a-z])/gi,M=Datetime.lpad;Datetime.use({strftime:function(t,e){var i=t||"%Y-%m-%dT%H:%M:%S.%Q%t",n=Datetime.getLocale(e||this.locale),a=this.year(),r=this.year2(),s=this.month(),u=this.day(),o=this.weekDay(),c=this.hour(),h=this.hour12(),m=this.minute(),d=this.second(),f=this.ms(),l=this.time(),y=M(u,"0",2),D=M(s+1,"0",2),t=M(c,"0",2),e=M(h,"0",2),c=M(m,"0",2),h=M(d,"0",2),m=M(f,"0",3),p=this,d=function(){var t=datetime(p.value);return t.day(p.day()-(p.weekDay()+6)%7+3),t},g={"%a":n.weekdaysShort[o],"%A":n.weekdays[o],"%b":n.monthsShort[s],"%h":n.monthsShort[s],"%B":n.months[s],"%c":this.toString().substring(0,this.toString().indexOf(" (")),"%C":this.century(),"%d":y,"%D":[y,D,a].join("/"),"%e":u,"%F":[a,D,y].join("-"),"%G":d().year(),"%g":(""+d().year()).slice(2),"%H":t,"%I":e,"%j":M(this.dayOfYear(),"0",3),"%k":t,"%l":e,"%m":D,"%n":s+1,"%M":c,"%p":this.ampm(),"%P":this.ampm(!0),"%s":Math.round(l/1e3),"%S":h,"%u":this.isoWeekDay(),"%V":this.isoWeekNumber(),"%w":o,"%x":this.toLocaleDateString(),"%X":this.toLocaleTimeString(),"%y":r,"%Y":a,"%z":this.timezone().replace(":",""),"%Z":this.timezoneName(),"%r":[e,c,h].join(":")+" "+this.ampm(),"%R":[t,c].join(":"),"%T":[t,c,h].join(":"),"%Q":m,"%q":f,"%t":this.timezone()};return i.replace(v,function(t){return 0===g[t]||g[t]?g[t]:t})}})}(),function(){"use strict";var n=Datetime.prototype.format;Datetime.use({utcOffset:function(){return this.value.getTimezoneOffset()},timezone:function(){return this.toTimeString().replace(/.+GMT([+-])(\d{2})(\d{2}).+/,"$1$2:$3")},timezoneName:function(){return this.toTimeString().replace(/.+\((.+?)\)$/,"$1")},format:function(t,e){t=t||Datetime.DEFAULT_FORMAT;var i={Z:this.utcMode?"Z":this.timezone(),ZZ:this.timezone().replace(":",""),z:this.timezoneName()},t=t.replace(/(\[[^\]]+])|Z{1,3}|z/g,function(t,e){return e||i[t]});return n.bind(this)(t,e)}})}(),function(){"use strict";Datetime.useStatic({isToday:function(t){var e=datetime(t).align("day"),t=datetime().align("day");return e.time()===t.time()}}),Datetime.use({isToday:function(){return Datetime.isToday(this)},today:function(){var t=datetime();return this.mutable?this.val(t.val()):t}})}(),function(){"use strict";Datetime.useStatic({isTomorrow:function(t){var e=datetime(t).align("day"),t=datetime().align("day").add(1,"day");return e.time()===t.time()}}),Datetime.use({isTomorrow:function(){return Datetime.isTomorrow(this)},tomorrow:function(){return(this.mutable?this:this.clone()).add(1,"day")}})}(),function(){"use strict";Datetime.use({toDateString:function(){return this.value.toDateString()},toISOString:function(){return this.value.toISOString()},toJSON:function(){return this.value.toJSON()},toGMTString:function(){return this.value.toGMTString()},toLocaleDateString:function(){return this.value.toLocaleDateString()},toLocaleString:function(){return this.value.toLocaleString()},toLocaleTimeString:function(){return this.value.toLocaleTimeString()},toTimeString:function(){return this.value.toTimeString()},toUTCString:function(){return this.value.toUTCString()},toDate:function(){return new Date(this.value)}})}(),function(){"use strict";Datetime.useStatic({timestamp:function(){return(new Date).getTime()/1e3}}),Datetime.use({unix:function(t){return!arguments.length||Datetime.not(t)?Math.floor(this.valueOf()/1e3):(t=1e3*t,(this.mutable?this:datetime(this.value)).time(t))},timestamp:function(){return this.unix()}})}(),function(){"use strict";var r=Datetime.prototype.format,s=Datetime.lpad;Datetime.use({weekNumber:function(t){var e,i,n;return t=+t||0,e=0<=(e=(i=datetime(this.year(),0,1)).weekDay()-t)?e:e+7,i=Math.floor((this.time()-i.time()-6e4*(this.utcOffset()-i.utcOffset()))/864e5)+1,e<4?52<(n=Math.floor((i+e-1)/7)+1)&&(n=(t=0<=(t=datetime(this.year()+1,0,1).weekDay()-t)?t:t+7)<4?1:53):n=Math.floor((i+e-1)/7),n},isoWeekNumber:function(){return this.weekNumber(1)},weeksInYear:function(t){return datetime(this.value).month(11).day(31).weekNumber(t)},format:function(t,e){var i,n=this.weekNumber(),a=this.isoWeekNumber();return t=t||Datetime.DEFAULT_FORMAT,i={W:n,WW:s(n,"0",2),WWW:a,WWWW:s(a,"0",2)},t=t.replace(/(\[[^\]]+])|W{1,4}/g,function(t,e){return e||i[t]}),r.bind(this)(t,e)}})}(),function(){"use strict";Datetime.useStatic({isYesterday:function(t){var e=datetime(t).align("day"),t=datetime().align("day").add(-1,"day");return e.time()===t.time()}}),Datetime.use({isYesterday:function(){return Datetime.isYesterday(this)},yesterday:function(){return(this.mutable?this:this.clone()).add(-1,"day")}})}();