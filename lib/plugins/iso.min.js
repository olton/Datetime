!function(){"use strict";var i=Datetime.prototype.format,n=Datetime.align,r=Datetime.alignEnd;Datetime.useStatic({align:function(t,e){var a=t instanceof Datetime?t:datetime(t),e="isoWeek"===e?(t=a.isoWeekDay(),n(a,"day").addDay(1-t)):n.apply(this,[a,e]);return e},alignEnd:function(t,e){var a=t instanceof Datetime?t:datetime(t),e="isoWeek"===e?(t=a.isoWeekDay(),r(a,"day").addDay(7-t)):r.apply(this,[a,e]);return e}}),Datetime.use({isoWeekDay:function(t){var e=(this.weekDay()+6)%7+1;return!arguments.length||Datetime.not(t)?e:this.addDay(t-e)},format:function(t,e){t=t||Datetime.DEFAULT_FORMAT;var a={I:this.isoWeekDay()},t=t.replace(/(\[[^\]]+])|I{1,2}/g,function(t,e){return e||a[t]});return i.bind(this)(t,e)}})}();